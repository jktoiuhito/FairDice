<!DOCTYPE html>
<html class="h-100" lang="en">
   <head>
      <meta charset="utf-8" />
      <!-- TODO: remove after publishable -->
      <meta name="robots" content="noindex" />
      <meta
         name="viewport"
         content="width=device-width, initial-scale=1, shrink-to-fit=no"
      />
      <link
         rel="stylesheet"
         href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
         integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
         crossorigin="anonymous"
      />
      <script
         src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
         integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
         crossorigin="anonymous"
      ></script>
      <script
         src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
         integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
         crossorigin="anonymous"
      ></script>
      <!-- TODO: add integrity check -->
      <script src="index.js"></script>
      <title>FairDice</title>
      <meta name="author" content="jktoiuhito" />
      <meta name="creator" content="jktoiuhito" />
      <meta
         name="description"
         content="Fair and functional digital dice for any dice-based game"
      />
      <meta name="keywords" content="fair,dice,app" />
      <meta name="color-scheme" content="only light" />
   </head>
   <body class="d-flex flex-column h-100 bg-light">
      <nav
         class="navbar navbar-expand-md navbar-light bg-white border-bottom shadow-sm"
      >
         <a class="navbar-brand" href="./">FairDice</a>
         <button
            class="navbar-toggler"
            type="button"
            data-toggle="collapse"
            data-target="#navbarContent"
            aria-controls="navbarContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
         >
            <span class="navbar-toggler-icon"></span>
         </button>
         <div id="navbarContent" class="collapse navbar-collapse">
            <div class="navbar-nav">
               <span class="navbar-text mr-3"
                  ><small>Version 1.0.0</small></span
               >
               <button
                  type="button"
                  data-toggle="modal"
                  data-target="#benchmark-modal"
                  id="button-benchmark"
                  class="py-0 btn mr-3 btn-outline-primary"
                  hidden
               >
                  Benchmark
               </button>
               <a class="nav-link" href="https://github.com/jktoiuhito/FairDice"
                  >Sourcecode</a
               >
               <a class="nav-link" href="https://unlicense.org/">License</a>
               <a class="nav-link" href="./privacy.html">Privacy</a>
            </div>
         </div>
      </nav>
      <main class="flex-shrink-0 my-3">
         <div class="container text-center">
            <noscript
               ><p class="alert alert-danger text-left">
                  This app requires JavaScript in order to function
               </p></noscript
            >
            <p id="apple-error" class="alert alert-danger" hidden>
               This app does not work on Internet Explorer, Safari or on any
               browser for iOS,
               <a
                  href="https://developer.mozilla.org/en-US/docs/Web/API/CustomElementRegistry#Browser_compatibility"
                  >as they do not implement parts of the HTML specification
                  necessary for the app to function
               </a>
            </p>
            <div
               id="dice-container"
               class="d-flex flex-wrap justify-content-center"
               hidden
            ></div>
            <hr hidden />
            <h1 id="results-score-counter" class="display-2" hidden>0</h1>
            <div
               id="results-container"
               class="d-flex flex-wrap mt-4 justify-content-center"
               hidden
            ></div>
         </div>
      </main>
      <footer
         id="controls-container"
         class="footer mt-auto py-2 text-center bg-white border-top shadow-sm"
         hidden
      >
         <button
            type="button"
            id="controls-button-previous"
            class="btn btn-secondary mx-2"
            disabled
         >
            Previous
         </button>
         <button
            type="button"
            id="controls-button-new"
            class="btn btn-primary mx-2"
            disabled
         >
            New roll
         </button>
         <button
            type="button"
            id="controls-button-next"
            class="btn btn-secondary mx-2"
            disabled
         >
            Next
         </button>
      </footer>
      <div id="benchmark-modal" class="modal" role="dialog" hidden>
         <div class="modal-dialog" role="document">
            <div class="modal-content">
               <div class="modal-header">
                  <h5 class="modal-title">Benchmark</h5>
                  <button
                     type="button"
                     class="close"
                     data-dismiss="modal"
                     aria-label="Close"
                  >
                     <span aria-hidden="true">&times;</span>
                  </button>
               </div>
               <div id="benchmark-modal-intro" class="modal-body">
                  <p>
                     Extreme fairness is one of the main goals of this app. As
                     such a cryptographically secure pseudo-random number
                     generator (CSPRNG) is used instead of "just" a basic
                     pseudo-random number generator (PRNG) - which in itself
                     could still be humongously more fair than even the best
                     physical dice.
                  </p>
                  <p>
                     No CSPRNG produces totally random results (as implied by
                     their name, "pseudo-random"). In the context of web-apps
                     their results can vary based on the model and version of
                     the used browser, operating system and hardware.
                  </p>
                  <p>
                     To combat this uncertainness, you can run this benchmark to
                     assert that the rolls made with this app are indeed fair
                     and their distribution even on the particular device you
                     are now using.
                  </p>
                  <p>
                     The benchmark will roll each dice a million times
                     multiplied with the facecount of the dice - meaning that a
                     d4 is rolled four million and a d100 100 million times -
                     and compare the distribution and mean of the resulting
                     values to their expected values. If the deviance between
                     the two values is greater than 0.01% (1 in 10,000 rolls is
                     not "fair"), the benchmark will display failure.
                  </p>
                  <p>
                     It is up to you whether to use the app or not, no matter
                     what the result of the benchmark is. Even if the benchmark
                     would fail, the app might still give far more fair results
                     than any physical dice ever could, while still providing
                     superior functionality.
                  </p>
               </div>
               <div id="benchmark-modal-test" class="modal-body" hidden>
                  <p>TODO</p>
               </div>
               <div class="modal-footer">
                  <button
                     type="button"
                     id="benchmark-run-button"
                     class="btn btn-primary"
                  >
                     Run benchmark
                  </button>
                  <button
                     type="button"
                     id="benchmark-stop-button"
                     class="btn btn-primary"
                     hidden
                  >
                     Stop benchmark
                  </button>
                  <button
                     type="button"
                     class="btn btn-secondary"
                     data-dismiss="modal"
                  >
                     Close
                  </button>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>
